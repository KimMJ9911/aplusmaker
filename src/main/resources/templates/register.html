<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>A+Maker 회원가입</title>
  <link rel="stylesheet" th:href="@{/css/register.css}" />
</head>
<body>
<div class="signup-wrapper">
  <div class="signup-box">
    <h1 class="logo">
      <span class="logo-blue">A+</span><strong>Maker</strong> 회원가입
    </h1>

    <form th:action="@{/register}" method="post" th:object="${formObject}" id="register-form">
      <!-- 전역 오류 메시지 표시 -->
      <div class="error-box" th:if="${#fields.hasGlobalErrors()}">
        <p th:each="err : ${#fields.globalErrors()}" th:text="${err}" class="field-error"></p>
      </div>
      
      <div class="form-row">
        <div class="form-group half">
          <label for="name">이름</label>
          <input type="text" id="name" th:field="*{name}" placeholder="실명 입력" />
        </div>
        <div class="form-group half">
          <label for="nickname">닉네임</label>
          <input type="text" id="nickname" th:field="*{nickname}" placeholder="닉네임 입력" />
        </div>
      </div>

      <div class="form-group">
        <label for="birth_date">생년월일</label>
        <input type="date" id="birth_date" th:field="*{birth_date}" placeholder="YYYY-MM-DD" />
      </div>

      <div class="form-group">
        <label for="username">아이디</label>
        <input type="text" id="username" th:field="*{username}" placeholder="영문 소문자와 숫자 조합 6~16자리" />
      </div>

      <div class="form-group">
        <label for="password">비밀번호</label>
        <input type="password" id="password" th:field="*{password}" placeholder="비밀번호" />
      </div>

      <div class="form-group">
        <label for="p_check">비밀번호 확인</label>
        <input type="password" id="p_check" th:field="*{p_check}" placeholder="비밀번호 확인" />
        <p id="passwordMatchStatus" class="field-error"></p>
      </div>

      <div class="form-group">
        <label for="email">이메일 주소</label>
        <input type="email" id="email" th:field="*{email}" placeholder="example@domain.com" />
      </div>

      <div class="form-group">
        <label for="phone">휴대전화</label>
        <input type="tel" id="phone" th:field="*{phone}" placeholder="- 없이 입력해 주세요" />
      </div>

      <div class="form-group school-auth">
        <label for="schoolNameInput">학교 인증</label>
        <div class="school-row">
          <input type="text" id="schoolNameInput" name="schoolNameInput" placeholder="학교를 검색하세요." />
          <button type="button" id="verifySchoolButton">인증</button>
        </div>
        <input type="hidden" th:field="*{coll_auth}" id="coll_auth_status" />
        <p id="schoolAuthMessage" class="field-error"></p>
      </div>

      <button type="submit" class="submit-button">가입하기</button>
    </form>
  </div>
</div>
<script th:src="@{/js/register.js}"></script>
</body>
</html>
